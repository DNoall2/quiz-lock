import{_ as b,C,j as B,i,h as z,E as A,c as o,o as a,q as l,v as w,t as Q,F as q,B as x,x as g,b as M,G as N,y as T,H as U,D}from"./quizStorage-x398zt1f.js";const I={class:"blocked-page"},V=["disabled"],E={key:0},L={key:0},R=["value"],F={key:1,class:"short-answer-input"},K={key:2},S={key:1},j={__name:"Blocked",setup(H){const{quizzes:m}=C();B(m,t=>{t&&t.length>0&&f()});const s=i(null),u=i([]),r=i(""),c=i(null),v=i(!1),p=i(0),_=z(()=>m.value.filter(t=>t.enabled));function f(){if(_.value.length===0){s.value=null,u.value=[];return}const t=_.value[Math.floor(Math.random()*_.value.length)];if(!t.data||t.data.length===0){s.value=null,u.value=[];return}const e=t.data[Math.floor(Math.random()*t.data.length)];s.value=e,u.value=e.choices||[]}function k(t){if(!u.value||!r.value){c.value=null;return}const e=r.value.toLowerCase()===s.value.answer.toLowerCase();c.value=e,e&&browser.storage.local.get(["blockedUrl","temporarilyAllowed"]).then(n=>{const d=n.blockedUrl,h=n.temporarilyAllowed||[];console.log("[Blocked] Redirecting to:",d),h.push(d),browser.storage.local.set({temporarilyAllowed:h}).then(()=>{window.location.href=d})})}function y(){f(),v.value=!0,p.value=5;const e=setInterval(()=>{p.value-=1,p.value<=0&&(clearInterval(e),v.value=!1)},1e3)}return A(()=>{m.value.length>0&&f()}),(t,e)=>(a(),o("div",I,[e[3]||(e[3]=l("h1",null,"Blocked",-1)),l("button",{disabled:v.value,onClick:y},w(v.value?`Wait ${p.value} seconds`:"New Question"),9,V),s.value?(a(),o("div",E,[l("h2",null,w(s.value.question),1),u.value.length?(a(),o("ul",L,[(a(!0),o(q,null,x(u.value,(n,d)=>(a(),o("li",{key:d},[l("label",null,[g(l("input",{type:"radio",value:n,"onUpdate:modelValue":e[0]||(e[0]=h=>r.value=h),name:"quiz-options",onChange:k},null,40,R),[[N,r.value]]),M(" "+w(n),1)])]))),128))])):(a(),o("div",F,[l("span",null,[g(l("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=n=>r.value=n),placeholder:"Enter your answer",onKeyup:U(k,["enter"])},null,544),[[T,r.value]]),l("button",{onClick:k},"Check Answer")])])),c.value!==null?(a(),o("p",K,w(c.value?"Correct!":"Incorrect. Try again."),1)):Q("",!0)])):(a(),o("div",S,e[2]||(e[2]=[l("h2",null,"No quizzes available",-1)])))]))}},G=b(j,[["__scopeId","data-v-48098250"]]);D(G).mount("#app");
