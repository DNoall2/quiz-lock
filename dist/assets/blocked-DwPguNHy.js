import{C as _,i as v,h as f,E as y,c as l,o,q as s,t as g,v as h,F as b,B as A,x as z,b as B,G as q,D as C}from"./quizStorage-C0N6XGYv.js";const M={key:0},Q={key:0},x=["value"],R={key:1},U={key:2},V={__name:"Blocked",setup(D){const{quizzes:k}=_(),n=v(null),a=v([]),i=v(""),c=v(null),p=f(()=>k.value.filter(t=>t.enabled));function m(){if(p.value.length===0){n.value=null,a.value=[];return}const t=p.value[Math.floor(Math.random()*p.value.length)];if(!t.data||t.data.length===0){n.value=null,a.value=[];return}const e=t.data[Math.floor(Math.random()*t.data.length)];n.value=e,a.value=e.choices||[]}function w(t){if(!a.value||!i.value){c.value=null;return}const e=i.value===n.value.answer;c.value=e,e&&browser.storage.local.get(["blockedUrl","temporarilyAllowed"]).then(r=>{const u=r.blockedUrl,d=r.temporarilyAllowed||[];console.log("[Blocked] Redirecting to:",u),d.push(u),browser.storage.local.set({temporarilyAllowed:d}).then(()=>{window.location.href=u})})}return y(()=>{m()}),(t,e)=>(o(),l("div",null,[e[1]||(e[1]=s("h1",null,"Blocked",-1)),s("button",{onClick:m},"Get Random Question"),n.value?(o(),l("div",M,[s("h2",null,h(n.value.question),1),a.value.length?(o(),l("ul",Q,[(o(!0),l(b,null,A(a.value,(r,u)=>(o(),l("li",{key:u},[s("label",null,[z(s("input",{type:"radio",value:r,"onUpdate:modelValue":e[0]||(e[0]=d=>i.value=d),name:"quiz-options",onChange:w},null,40,x),[[q,i.value]]),B(" "+h(r),1)])]))),128))])):(o(),l("p",R,"(Short Answer â€” type your response)")),c.value!==null?(o(),l("p",U,h(c.value?"Correct!":"Incorrect. Try again."),1)):g("",!0)])):g("",!0)]))}};C(V).mount("#app");
