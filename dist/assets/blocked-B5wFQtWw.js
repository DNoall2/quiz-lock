import{B as f,i as d,h as y,E as w,c as n,o as a,t as r,q as g,v as p,F as q,A as z,x as B,b as A,G as M,D as C}from"./quizStorage-C9Y0BIaD.js";const Q={key:0},x={key:0},R=["value"],U={key:1},V={key:2},D={__name:"Blocked",setup(N){const{quizzes:k}=f(),l=d(null),o=d([]),s=d(""),i=d(null),v=y(()=>k.value.filter(t=>t.enabled));function m(){if(v.value.length===0){l.value=null,o.value=[];return}const t=v.value[Math.floor(Math.random()*v.value.length)];if(!t.data||t.data.length===0){l.value=null,o.value=[];return}const e=t.data[Math.floor(Math.random()*t.data.length)];l.value=e,o.value=e.choices||[]}function _(t){if(!o.value||!s.value){i.value=null;return}const e=s.value===l.value.answer;i.value=e,e&&browser.storage.local.get(["blockedUrl"]).then(c=>{const u=c.blockedUrl;console.log("[Blocked] Redirecting to:",u),u&&u.startsWith("http")&&browser.tabs.query({active:!0,currentWindow:!0}).then(h=>{const b=h[0].id;browser.tabs.update(b,{url:u})})})}return w(()=>{m()}),(t,e)=>(a(),n("div",null,[e[1]||(e[1]=r("h1",null,"Blocked",-1)),r("button",{onClick:m},"Get Random Question"),l.value?(a(),n("div",Q,[r("h2",null,p(l.value.question),1),o.value.length?(a(),n("ul",x,[(a(!0),n(q,null,z(o.value,(c,u)=>(a(),n("li",{key:u},[r("label",null,[B(r("input",{type:"radio",value:c,"onUpdate:modelValue":e[0]||(e[0]=h=>s.value=h),name:"quiz-options",onChange:_},null,40,R),[[M,s.value]]),A(" "+p(c),1)])]))),128))])):(a(),n("p",U,"(Short Answer â€” type your response)")),i.value!==null?(a(),n("p",V,p(i.value?"Correct!":"Incorrect. Try again."),1)):g("",!0)])):g("",!0)]))}};C(D).mount("#app");
