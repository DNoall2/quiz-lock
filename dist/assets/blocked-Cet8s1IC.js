import{C as g,i as v,h as f,E as _,c as l,o,q as n,t as b,v as m,F as C,B as z,x as w,b as A,G as q,y as B,H as M,D as x}from"./quizStorage-CZWs0rhF.js";const Q={key:0},U={key:0},V=["value"],N={key:1},R={key:2},D={key:1},E={__name:"Blocked",setup(L){const{quizzes:y}=g(),u=v(null),s=v([]),r=v(""),d=v(null),p=f(()=>y.value.filter(t=>t.enabled));function k(){if(p.value.length===0){u.value=null,s.value=[];return}const t=p.value[Math.floor(Math.random()*p.value.length)];if(!t.data||t.data.length===0){u.value=null,s.value=[];return}const e=t.data[Math.floor(Math.random()*t.data.length)];u.value=e,s.value=e.choices||[]}function h(t){if(!s.value||!r.value){d.value=null;return}const e=r.value.toLowerCase()===u.value.answer.toLowerCase();d.value=e,e&&browser.storage.local.get(["blockedUrl","temporarilyAllowed"]).then(a=>{const i=a.blockedUrl,c=a.temporarilyAllowed||[];console.log("[Blocked] Redirecting to:",i),c.push(i),browser.storage.local.set({temporarilyAllowed:c}).then(()=>{window.location.href=i})})}return _(()=>{k()}),(t,e)=>(o(),l("div",null,[e[3]||(e[3]=n("h1",null,"Blocked",-1)),n("button",{onClick:k},"Get Random Question"),u.value?(o(),l("div",Q,[n("h2",null,m(u.value.question),1),s.value.length?(o(),l("ul",U,[(o(!0),l(C,null,z(s.value,(a,i)=>(o(),l("li",{key:i},[n("label",null,[w(n("input",{type:"radio",value:a,"onUpdate:modelValue":e[0]||(e[0]=c=>r.value=c),name:"quiz-options",onChange:h},null,40,V),[[q,r.value]]),A(" "+m(a),1)])]))),128))])):(o(),l("div",N,[w(n("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=a=>r.value=a),placeholder:"Enter your answer",onKeyup:M(h,["enter"])},null,544),[[B,r.value]]),n("button",{onClick:h},"Check Answer")])),d.value!==null?(o(),l("p",R,m(d.value?"Correct!":"Incorrect. Try again."),1)):b("",!0)])):(o(),l("div",D,e[2]||(e[2]=[n("h2",null,"No quizzes available",-1)])))]))}};x(E).mount("#app");
